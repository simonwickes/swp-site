---
phase: 03-service-pages-lightbox
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/data/services.ts
  - src/components/services/ServiceHero.astro
  - src/components/services/ServiceNav.astro
  - scripts/generate-service-placeholders.mjs
  - src/assets/images/services/ (8 category directories, ~120 placeholder images)
autonomous: true

must_haves:
  truths:
    - "Service metadata (title, slug, description) is available from a shared data module"
    - "ServiceHero renders a title, description, and CTA button linking to /contact/"
    - "ServiceNav renders a horizontal scrollable bar with all 8 service categories"
    - "ServiceNav highlights the current category"
    - "Placeholder images exist for all 8 categories (15 each) with varied aspect ratios"
  artifacts:
    - path: "src/data/services.ts"
      provides: "Service metadata array with title, slug, description for all 8 categories"
      exports: ["services", "Service", "getServiceBySlug"]
    - path: "src/components/services/ServiceHero.astro"
      provides: "Hero section with title, description paragraph, and CTA button"
    - path: "src/components/services/ServiceNav.astro"
      provides: "Horizontal scrollable navigation bar for service categories"
    - path: "src/assets/images/services/"
      provides: "8 directories with 15 placeholder images each"
  key_links:
    - from: "src/components/services/ServiceNav.astro"
      to: "src/data/services.ts"
      via: "import { services }"
      pattern: "import.*services.*from.*@/data/services"
    - from: "src/components/services/ServiceHero.astro"
      to: "src/components/ui/Button.astro"
      via: "import Button"
      pattern: "import Button from.*Button.astro"
---

<objective>
Install PhotoSwipe dependency, create the shared service data module, build the ServiceHero and ServiceNav components, and generate placeholder gallery images for all 8 service categories.

Purpose: Establish the foundation (data, dependencies, shared components, placeholder content) that the gallery integration and service page composition will build on.
Output: PhotoSwipe installed, `src/data/services.ts`, `ServiceHero.astro`, `ServiceNav.astro`, 120 placeholder images across 8 category directories.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-service-pages-lightbox/03-CONTEXT.md
@.planning/phases/03-service-pages-lightbox/03-RESEARCH.md
@src/pages/services/index.astro (existing service data to extract)
@src/components/ui/Button.astro (reuse for CTA)
@src/layouts/PageLayout.astro (layout pattern reference)
@src/styles/global.css (design tokens reference)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install PhotoSwipe, create service data module, generate placeholder images</name>
  <files>
    package.json
    src/data/services.ts
    scripts/generate-service-placeholders.mjs
    src/assets/images/services/ (8 directories x 15 images)
  </files>
  <action>
    1. Install PhotoSwipe: `npm install photoswipe`

    2. Create `src/data/services.ts` with typed service metadata for all 8 categories. Extract and expand the service data currently inline in `src/pages/services/index.astro`. Each service needs: `title` (display name), `slug` (URL segment), `description` (2-3 sentence service description for the hero section). Export the `Service` interface, `services` array, and `getServiceBySlug()` helper function.

    The 8 services in order:
    - Outdoor Portraits / outdoor-portraits
    - Weddings / weddings
    - Commercial / commercial
    - Landscape / landscape
    - Cars / cars
    - Assignments / assignments
    - Events / events
    - Live Performances / live-performances

    Write compelling, specific descriptions for each service (2-3 sentences). These appear in the hero section of each service page. Tone: warm, professional, approachable (matching the site's design direction). Focus on what the client experiences, not technical photography details.

    3. Create `scripts/generate-service-placeholders.mjs` -- a Node.js script using Sharp to generate 15 solid-color placeholder images per category (120 total). Each category gets a unique base color derived from the site's surface/accent palette. Images should have varied aspect ratios (mix of landscape 4:3/3:2, portrait 3:4/2:3, and square 1:1) to test masonry layout. Filename convention: `01-placeholder.jpg` through `15-placeholder.jpg`. Output to `src/assets/images/services/{slug}/`.

    Run the script after creating it: `node scripts/generate-service-placeholders.mjs`
  </action>
  <verify>
    - `npm ls photoswipe` shows installed version
    - `src/data/services.ts` exists with 8 service entries
    - TypeScript compiles: `npx tsc --noEmit src/data/services.ts` (or `npx astro check`)
    - 8 directories exist under `src/assets/images/services/` each containing 15 .jpg files
    - Total placeholder count: `find src/assets/images/services -name "*.jpg" | wc -l` returns 120
  </verify>
  <done>PhotoSwipe is in package.json dependencies, services.ts exports typed metadata for all 8 categories, and 120 placeholder images exist across 8 category directories with varied aspect ratios.</done>
</task>

<task type="auto">
  <name>Task 2: Build ServiceHero and ServiceNav components</name>
  <files>
    src/components/services/ServiceHero.astro
    src/components/services/ServiceNav.astro
  </files>
  <action>
    1. Create `src/components/services/ServiceHero.astro`:
    - Props: `title: string`, `description: string`
    - Renders a hero section with:
      - Service title as h1 (font-display, large, bold, tracking-tight)
      - Description paragraph below (text-lg, muted color, max-width for readability)
      - "Contact me" CTA button using the existing `Button.astro` component (primary variant, href="/contact/")
    - Container: `mx-auto max-w-4xl px-6 py-16 md:py-24 text-center` (centered layout matching existing page patterns)
    - Spacing: title mb-4, description mb-8, button at bottom

    2. Create `src/components/services/ServiceNav.astro`:
    - Props: `currentSlug: string`
    - Imports `services` from `@/data/services`
    - Renders a `<nav>` with `aria-label="Service categories"`
    - Horizontal scrollable bar using `overflow-x-auto` with hidden scrollbar CSS: `[scrollbar-width:none] [&::-webkit-scrollbar]:hidden`
    - Inner flex container with all 8 service links as pill-shaped items
    - Current service highlighted with accent background (`bg-accent-500 text-surface-50`)
    - Non-current services: muted text with hover states that work in both light and dark mode
    - Each link href: `/services/{slug}/`
    - Links use `whitespace-nowrap` to prevent text wrapping
    - Border-bottom on the nav for visual separation: `border-b border-surface-200 dark:border-surface-800`

    Follow the exact patterns from 03-RESEARCH.md Pattern 4 (Horizontal Service Navigation Bar) for the nav implementation.
  </action>
  <verify>
    - Both files exist in `src/components/services/`
    - ServiceHero imports Button component
    - ServiceNav imports from `@/data/services`
    - `npx astro check` passes (no type errors)
  </verify>
  <done>ServiceHero renders title, description, and CTA button. ServiceNav renders a horizontally scrollable category nav bar that highlights the current service and links to all 8 categories.</done>
</task>

</tasks>

<verification>
1. `npm ls photoswipe` confirms installed
2. `npx astro check` has no errors related to new files
3. `ls src/data/services.ts` exists
4. `ls src/components/services/` shows ServiceHero.astro and ServiceNav.astro
5. `find src/assets/images/services -name "*.jpg" | wc -l` returns 120
6. `npx astro build` succeeds
</verification>

<success_criteria>
- PhotoSwipe is installed as a dependency
- `src/data/services.ts` exports typed metadata for all 8 service categories
- ServiceHero component renders title, description, and CTA button
- ServiceNav component renders horizontal scrollable nav with current-page highlighting
- 120 placeholder images exist across 8 service category directories
- Build succeeds with all new files
</success_criteria>

<output>
After completion, create `.planning/phases/03-service-pages-lightbox/03-01-SUMMARY.md`
</output>
