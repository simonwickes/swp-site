---
phase: 08-seo-transitions-launch-readiness
plan: 03
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/components/seo/SchemaArticle.astro
  - src/components/seo/SchemaFAQPage.astro
  - src/components/seo/SchemaService.astro
  - src/pages/blog/[id].astro
  - src/pages/faq.astro
  - src/pages/services/outdoor-portraits.astro
  - src/pages/services/weddings.astro
  - src/pages/services/commercial.astro
  - src/pages/services/landscape.astro
  - src/pages/services/cars.astro
  - src/pages/services/assignments.astro
  - src/pages/services/events.astro
  - src/pages/services/live-performances.astro
autonomous: true

must_haves:
  truths:
    - "Blog posts include BlogPosting JSON-LD schema with headline, date, author"
    - "FAQ page includes FAQPage JSON-LD schema with all questions and answers"
    - "Each service page includes Service JSON-LD schema with provider info"
    - "Blog posts use their featured image as OG image (falling back to default)"
    - "Each page type has a distinct, SEO-optimized meta description"
  artifacts:
    - path: "src/components/seo/SchemaArticle.astro"
      provides: "BlogPosting JSON-LD for blog posts"
      contains: "BlogPosting"
    - path: "src/components/seo/SchemaFAQPage.astro"
      provides: "FAQPage JSON-LD for FAQ page"
      contains: "FAQPage"
    - path: "src/components/seo/SchemaService.astro"
      provides: "Service JSON-LD for service pages"
      contains: "Service"
  key_links:
    - from: "src/pages/blog/[id].astro"
      to: "src/components/seo/SchemaArticle.astro"
      via: "component import"
      pattern: "SchemaArticle"
    - from: "src/pages/faq.astro"
      to: "src/components/seo/SchemaFAQPage.astro"
      via: "component import"
      pattern: "SchemaFAQPage"
    - from: "src/pages/services/*.astro"
      to: "src/components/seo/SchemaService.astro"
      via: "component import"
      pattern: "SchemaService"
---

<objective>
Create page-specific JSON-LD schema components (Article, FAQ, Service) and integrate them into their respective pages. Also update meta descriptions and OG images to be page-type specific, so each page has optimized metadata for search engines and social sharing.

Purpose: Structured data helps search engines understand the site content. BlogPosting schema aids blog discovery, FAQPage schema improves AI search citation likelihood (3.2x more likely to appear in AI Overviews), and Service schema with provider info strengthens the local business signal. Distinct meta descriptions per page type improve click-through rates from search results.

Output: 3 new schema components + 10 modified pages
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-seo-transitions-launch-readiness/08-CONTEXT.md
@.planning/phases/08-seo-transitions-launch-readiness/08-RESEARCH.md
@.planning/phases/08-seo-transitions-launch-readiness/08-01-SUMMARY.md
@src/pages/blog/[id].astro
@src/pages/faq.astro
@src/pages/services/weddings.astro
@src/data/services.ts
@src/data/faq.ts
@src/data/authors.ts
@src/content.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create SchemaArticle, SchemaFAQPage, and SchemaService components</name>
  <files>
    src/components/seo/SchemaArticle.astro
    src/components/seo/SchemaFAQPage.astro
    src/components/seo/SchemaService.astro
  </files>
  <action>
  Create `src/components/seo/SchemaArticle.astro` following RESEARCH.md Example 4:
  - Props: title (string), description (string), datePublished (string), dateModified (optional string), authorName (string), image (optional string), url (string)
  - Build BlogPosting schema: @context, @type "BlogPosting", headline (title), description, datePublished, conditional dateModified, author (@type "Person", name), conditional image, url, publisher (@type "Organization", name "Simon Wickes Photography", url "https://simonwickes.com")
  - Render via `<script type="application/ld+json" set:html={JSON.stringify(schema)} />`
  - Use conditional spread for optional fields: `...(dateModified && { dateModified })`, `...(image && { image })`

  Create `src/components/seo/SchemaFAQPage.astro` following RESEARCH.md Example 5:
  - Import `faqItems` from `@/data/faq`
  - Build FAQPage schema: @context, @type "FAQPage", mainEntity array mapping each FAQ item to { @type "Question", name (question), acceptedAnswer: { @type "Answer", text (answer) } }
  - Render via `<script type="application/ld+json" set:html={JSON.stringify(schema)} />`
  - No props needed -- reads directly from the faq data module

  Create `src/components/seo/SchemaService.astro` following RESEARCH.md Example 6:
  - Props: serviceName (string), serviceDescription (string), serviceUrl (string)
  - Build Service schema: @context, @type "Service", name (serviceName + " Photography"), description, url, provider (@type "LocalBusiness", name "Simon Wickes Photography", url "https://simonwickes.com"), areaServed (@type "State", name "Arizona")
  - Render via `<script type="application/ld+json" set:html={JSON.stringify(schema)} />`
  </action>
  <verify>
  - All 3 files exist with no TypeScript errors
  - Each file contains `application/ld+json` and `set:html`
  - SchemaArticle handles optional fields with conditional spread
  - SchemaFAQPage imports from @/data/faq
  </verify>
  <done>Three schema components created: SchemaArticle (BlogPosting), SchemaFAQPage (FAQPage), SchemaService (Service). All use JSON.stringify with set:html pattern.</done>
</task>

<task type="auto">
  <name>Task 2: Integrate schemas and SEO metadata into pages</name>
  <files>
    src/pages/blog/[id].astro
    src/pages/faq.astro
    src/pages/services/outdoor-portraits.astro
    src/pages/services/weddings.astro
    src/pages/services/commercial.astro
    src/pages/services/landscape.astro
    src/pages/services/cars.astro
    src/pages/services/assignments.astro
    src/pages/services/events.astro
    src/pages/services/live-performances.astro
  </files>
  <action>
  Modify `src/pages/blog/[id].astro`:
  1. Import SchemaArticle: `import SchemaArticle from "@components/seo/SchemaArticle.astro";`
  2. Import getAuthorById: `import { getAuthorById } from "@/data/authors";`
  3. After existing variables, compute:
     - `const author = getAuthorById(post.data.author);`
     - `const authorName = author?.name ?? "Simon Wickes";`
     - `const ogImage = post.data.featuredImage ? post.data.featuredImage.src : undefined;` (The `.src` property gives the processed image URL)
     - Update the existing `description` to be more SEO-friendly: `const description = post.data.title + " - Photography by Simon Wickes";` (keep existing)
  4. Update the PageLayout tag to pass SEO props:
     ```astro
     <PageLayout
       title={post.data.title}
       description={description}
       ogImage={ogImage}
       ogType="article"
       article={{
         publishedTime: post.data.date.toISOString(),
         author: authorName,
       }}
     >
     ```
  5. Add SchemaArticle inside the PageLayout, after the opening tag and before the main content div:
     ```astro
     <SchemaArticle
       title={post.data.title}
       description={description}
       datePublished={post.data.date.toISOString()}
       authorName={authorName}
       image={ogImage}
       url={canonicalUrl}
     />
     ```

  Modify `src/pages/faq.astro`:
  1. Import SchemaFAQPage: `import SchemaFAQPage from "@components/seo/SchemaFAQPage.astro";`
  2. The description already exists in PageLayout props and is good: "Frequently asked questions about Simon Wickes Photography services, booking, pricing, and what to expect."
  3. Add SchemaFAQPage inside the PageLayout, right after the opening tag:
     ```astro
     <SchemaFAQPage />
     ```

  Modify ALL 8 service pages (outdoor-portraits, weddings, commercial, landscape, cars, assignments, events, live-performances):
  1. Import SchemaService: `import SchemaService from "@components/seo/SchemaService.astro";`
  2. Update description to use the SEO format from RESEARCH.md: `${service.title} photography by Simon Wickes in Arizona. ${service.description.split('.')[0]}.` -- take only the first sentence of the description to keep under 155 chars. Store this as a `metaDescription` const.
  3. Update PageLayout to use metaDescription: `<PageLayout title={service.title} description={metaDescription}>`
  4. Add SchemaService inside PageLayout, after the opening tag:
     ```astro
     <SchemaService
       serviceName={service.title}
       serviceDescription={service.description}
       serviceUrl={`https://simonwickes.com/services/${service.slug}/`}
     />
     ```

  NOTE on the service pages: All 8 follow the exact same template pattern (see weddings.astro as reference). The only difference is the slug string and glob path. Apply the same 3 changes to each: add SchemaService import, create metaDescription, add SchemaService component, update PageLayout description.
  </action>
  <verify>
  - `npm run build` succeeds
  - Check build output for a blog post page: `cat dist/blog/golden-hour-portraits/index.html | grep "BlogPosting"` should show the JSON-LD
  - Check build output for FAQ page: `cat dist/faq/index.html | grep "FAQPage"` should show the JSON-LD
  - Check build output for a service page: `cat dist/services/weddings/index.html | grep '"Service"'` should show the JSON-LD
  - Blog post pages should have og:type "article" and article:published_time in their HTML
  - Service pages should have updated meta descriptions starting with the service name
  </verify>
  <done>All page types have JSON-LD schema markup: BlogPosting on blog posts with OG article metadata, FAQPage on FAQ page, Service on all 8 service pages. Each page type has a distinct, SEO-optimized meta description format.</done>
</task>

</tasks>

<verification>
- `npm run build` succeeds
- Blog post HTML contains BlogPosting JSON-LD with headline, datePublished, author
- Blog post HTML contains og:type "article" and article:published_time
- Blog posts with featured images use that image as og:image; those without fall back to default
- FAQ page HTML contains FAQPage JSON-LD with all questions/answers from faq.ts
- Each of 8 service pages contains Service JSON-LD with service name, description, provider
- Service page meta descriptions follow "[Service Name] photography by Simon Wickes in Arizona" format
- Validate schemas: copy JSON-LD from page source into Google Rich Results Test
</verification>

<success_criteria>
- BlogPosting, FAQPage, and Service JSON-LD schemas all validate in Google Rich Results Test
- Blog posts pass OG image and article metadata through to SEOHead
- FAQ page renders all questions/answers in structured data
- Service pages have provider info linking back to the main business
- Meta descriptions are distinct per page type and under 155 characters
</success_criteria>

<output>
After completion, create `.planning/phases/08-seo-transitions-launch-readiness/08-03-SUMMARY.md`
</output>
