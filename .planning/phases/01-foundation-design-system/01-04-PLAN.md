---
phase: 01-foundation-design-system
plan: 04
type: execute
wave: 3
depends_on: ["01-02", "01-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User sees the site in dark mode by default on first visit"
    - "User can toggle between dark and light mode, preference persists without flash"
    - "User can navigate to all 8 service categories from the main menu on both desktop and mobile"
    - "User sees a footer with Instagram link, Contact link, and copyright on every page"
    - "Site is fully responsive from 375px mobile through tablet to desktop"
    - "Image optimization pipeline produces multi-format responsive output"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete Phase 1 delivery by running the dev server and testing all five success criteria from the roadmap: dark mode default, theme toggle persistence, navigation to all 8 service categories, footer on every page, and responsive layout.

Purpose: Human visual and interactive verification catches issues that automated checks cannot -- visual styling, animation smoothness, responsive breakpoint transitions, and real navigation flows. This is the final gate before Phase 1 is marked complete.

Output: User confirmation that all Phase 1 success criteria pass, or a list of issues to address.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-design-system/01-01-SUMMARY.md
@.planning/phases/01-foundation-design-system/01-02-SUMMARY.md
@.planning/phases/01-foundation-design-system/01-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Start dev server and run automated pre-checks</name>
  <files></files>
  <action>
    Before asking for human verification, run automated checks:

    1. Run `npm run build` and confirm it succeeds with zero errors
    2. Count the generated HTML pages in dist/ -- should be at least 12 (index, contact, 404, 8 services, image-test)
    3. Verify build output contains optimized images in dist/_astro/
    4. Check that all service page HTML files exist:
       - dist/services/outdoor-portraits/index.html
       - dist/services/weddings/index.html
       - dist/services/commercial/index.html
       - dist/services/landscape/index.html
       - dist/services/cars/index.html
       - dist/services/assignments/index.html
       - dist/services/events/index.html
       - dist/services/live-performances/index.html
    5. Grep the build output for the theme initialization script (must be present in every page)
    6. Start the dev server with `npm run dev` (keep running for human verification)

    Report any issues found before proceeding to the checkpoint.
  </action>
  <verify>Build succeeds. All 12+ pages generated. Theme script present in HTML. Dev server running.</verify>
  <done>All automated checks pass. Dev server is running and ready for human verification.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 1 site foundation:
    - Astro 5 + Tailwind v4 project with terracotta/rust design system
    - Flash-free dark/light mode with persistent toggle
    - Sticky header with grouped Services dropdown (People/Places/Things)
    - Mobile slide-in navigation panel
    - Footer with Instagram link, Contact link, copyright
    - 8 service category placeholder pages + index + contact + 404
    - Proven image optimization pipeline (Image + Picture components)
  </what-built>
  <how-to-verify>
    Open http://localhost:4321 in your browser. Test the following:

    **1. Dark Mode Default**
    - Open in a fresh incognito/private window (no localStorage)
    - The site should load in dark mode (charcoal background, light text)
    - If your OS is set to light mode preference, it should respect that instead

    **2. Theme Toggle + Persistence**
    - Click the theme toggle -- mode should switch smoothly
    - Hard refresh (Cmd+Shift+R) -- the chosen mode should persist, NO flash of wrong theme
    - Toggle again, refresh again -- still persists

    **3. Desktop Navigation (resize browser to >1024px)**
    - Header should be sticky (stays visible on scroll)
    - Hover/click "Services" -- dropdown should appear with 3 columns:
      - People: Outdoor Portraits, Weddings, Events, Live Performances
      - Places: Landscape
      - Things: Commercial, Cars, Assignments
    - Click each of the 8 service links -- each should load a page with the service name
    - Click "Contact" -- should load contact page
    - Click "Home" or site name -- should return to index

    **4. Mobile Navigation (resize browser to ~375px or use device toolbar)**
    - Hamburger icon should be visible (desktop nav hidden)
    - Tap hamburger -- slide-in panel should appear from right
    - All 8 service categories should be listed with People/Places/Things groupings
    - Theme toggle should be accessible inside the panel
    - Navigate to a few service pages to confirm links work
    - Panel should close after navigation or via close mechanism

    **5. Responsive Layout**
    - Slowly resize from 375px to 1440px+
    - No horizontal overflow at any width
    - Navigation switches cleanly between mobile and desktop at ~1024px
    - Footer content remains readable and properly aligned at all widths
    - Content areas have appropriate padding on all screen sizes

    **6. Footer (check on multiple pages)**
    - Instagram icon link present (opens instagram.com in new tab)
    - "Contact" text link present (navigates to /contact/)
    - Copyright year is current
    - Footer appears at bottom even on short-content pages

    **7. Image Pipeline (visit /image-test/)**
    - Three images should be visible (constrained, multi-format, thumbnail)
    - Images should load (not broken image icons)
    - Right-click an image > Inspect -- check that src points to /_astro/ optimized path

    **8. Typography & Colors**
    - Headings should use a rounded, friendly font (Nunito)
    - Body text should use a clean, readable font (Plus Jakarta Sans)
    - Accent color (terracotta/rust) should be visible in hover states and interactive elements
    - Dark mode: charcoal background (not pure black), warm light text
    - Light mode: cream/ivory background (not pure white), warm dark text
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues that need fixing</resume-signal>
</task>

</tasks>

<verification>
All 5 roadmap success criteria verified by human:
1. Dark mode default on first visit
2. Theme toggle with persistence and no flash
3. Navigation to all 8 service categories on desktop and mobile
4. Footer with contact info and social links on every page
5. Fully responsive from 375px to desktop
Plus: Image pipeline producing optimized output
</verification>

<success_criteria>
- Human confirms all 5 roadmap success criteria pass
- No visual bugs, layout overflow, or broken interactions found
- OR: Issues documented for gap closure
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-04-SUMMARY.md`
</output>
