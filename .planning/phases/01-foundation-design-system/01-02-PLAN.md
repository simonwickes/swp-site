---
phase: 01-foundation-design-system
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/components/global/Header.astro
  - src/components/global/Navigation.astro
  - src/components/global/Footer.astro
  - src/layouts/PageLayout.astro
  - src/pages/index.astro
  - src/pages/services/outdoor-portraits.astro
  - src/pages/services/weddings.astro
  - src/pages/services/commercial.astro
  - src/pages/services/landscape.astro
  - src/pages/services/cars.astro
  - src/pages/services/assignments.astro
  - src/pages/services/events.astro
  - src/pages/services/live-performances.astro
  - src/pages/contact.astro
  - src/pages/404.astro
  - src/styles/global.css
autonomous: true

must_haves:
  truths:
    - "User sees a sticky header with site name and navigation on every page"
    - "User can open a Services dropdown showing 8 categories grouped as People/Places/Things on desktop"
    - "User can tap a hamburger icon on mobile to open a slide-in navigation panel"
    - "User can navigate to all 8 service category pages from the menu"
    - "User sees a footer with Instagram link, Contact link, and copyright on every page"
    - "Layout adapts correctly from 375px mobile to desktop widths"
  artifacts:
    - path: "src/components/global/Header.astro"
      provides: "Sticky header with navigation and theme toggle"
      contains: "StickyHeader"
    - path: "src/components/global/Footer.astro"
      provides: "Footer with social and contact links"
      contains: "instagram"
    - path: "src/layouts/PageLayout.astro"
      provides: "Full page layout with Header + Footer"
      contains: "Header"
    - path: "src/pages/services/weddings.astro"
      provides: "Example service page using PageLayout"
      contains: "PageLayout"
  key_links:
    - from: "src/layouts/PageLayout.astro"
      to: "src/layouts/BaseLayout.astro"
      via: "wraps BaseLayout with Header + Footer"
      pattern: "import.*BaseLayout"
    - from: "src/components/global/Header.astro"
      to: "astro-navbar"
      via: "imports Astronav, MenuItems, Dropdown, etc."
      pattern: "import.*astro-navbar"
    - from: "src/components/global/Header.astro"
      to: "src/components/global/ThemeToggle.astro"
      via: "embeds ThemeToggle in header"
      pattern: "import.*ThemeToggle"
    - from: "src/pages/services/*.astro"
      to: "src/layouts/PageLayout.astro"
      via: "all pages use PageLayout"
      pattern: "import.*PageLayout"
---

<objective>
Build the complete navigation system (sticky header with grouped Services dropdown, mobile slide-in panel), footer, PageLayout wrapper, and all placeholder pages for the 8 service categories plus index, contact, and 404.

Purpose: This delivers the core site structure users will navigate. After this plan, every page in the site exists with working navigation between them. The grouped dropdown (People/Places/Things) is the primary navigation pattern that persists across all future phases.

Output: A fully navigable site skeleton with sticky header, grouped service dropdown, mobile hamburger menu with slide-in panel, footer with Instagram and contact links, and placeholder content on all pages.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-design-system/01-CONTEXT.md
@.planning/phases/01-foundation-design-system/01-RESEARCH.md
@.planning/phases/01-foundation-design-system/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Header with grouped navigation dropdown and mobile slide-in panel</name>
  <files>
    src/components/global/Header.astro
    src/styles/global.css
  </files>
  <action>
    Create src/components/global/Header.astro using astro-navbar components:

    Import from astro-navbar: Astronav, MenuItems, MenuIcon, Dropdown, DropdownItems, StickyHeader.
    Import ThemeToggle from "./ThemeToggle.astro".

    Structure:
    1. StickyHeader wrapping everything:
       - defaultClass: generous padding, transparent border, bg-bg-light dark:bg-bg-dark
       - activeClass (after scroll): reduced padding, backdrop-blur, semi-transparent bg, visible border
       - scrollY={50} threshold
       - Sticky top-0, z-50, full width

    2. Inside StickyHeader, a nav with max-w-7xl mx-auto px-4:
       - Astronav with closeOnClick
       - Top bar: site name link ("Simon Wickes" in font-display, linking to "/"), flex with ThemeToggle and MenuIcon (MenuIcon visible only below lg breakpoint)
       - MenuItems container (hidden on mobile by default, shown by astro-navbar toggle):

    3. Desktop navigation (lg: breakpoint and above):
       - Horizontal flex row with: Home link, Services Dropdown, Contact link
       - Services Dropdown content: a 3-column grid inside DropdownItems
         - Column 1 "People": Outdoor Portraits, Weddings, Events, Live Performances
         - Column 2 "Places": Landscape
         - Column 3 "Things": Commercial, Cars, Assignments
       - Group headings styled: text-xs font-semibold uppercase tracking-wider text-surface-500
       - Links styled: text-sm/base, hover states with accent color, proper padding
       - Dropdown panel: absolute positioned, rounded-lg, border, shadow-lg, bg-bg-light dark:bg-bg-dark

    4. Mobile navigation (below lg breakpoint):
       - The MenuItems panel should appear as a slide-in panel from the right
       - Fixed position, top-0 right-0 bottom-0, width 80% max-width 320px
       - Background matching current theme (bg-bg-light dark:bg-bg-dark)
       - z-40 or z-50
       - Service categories listed with group headings (People, Places, Things) -- same grouping as desktop but in a vertical list
       - Include ThemeToggle inside the mobile panel as well
       - Include a close button or use astro-navbar's built-in close behavior

    Add CSS for the mobile slide-in animation to src/styles/global.css. If astro-navbar's default show/hide doesn't support smooth slide-in transitions, add custom CSS targeting `[data-astronav-menu]` or the appropriate astro-navbar attribute:
    ```css
    @media (max-width: 1023px) {
      /* Style for slide-in panel -- adjust selector based on actual astro-navbar DOM */
    }
    ```

    If astro-navbar's mobile behavior is insufficient for the slide-in animation (just toggles display:none/block), implement the mobile panel manually:
    - Keep using astro-navbar for desktop (Dropdown, StickyHeader)
    - Build mobile panel as a separate div with a button toggle
    - Use Tailwind transition classes: translate-x-full -> translate-x-0

    Navigation link paths:
    - Home: /
    - Outdoor Portraits: /services/outdoor-portraits/
    - Weddings: /services/weddings/
    - Events: /services/events/
    - Live Performances: /services/live-performances/
    - Landscape: /services/landscape/
    - Commercial: /services/commercial/
    - Cars: /services/cars/
    - Assignments: /services/assignments/
    - Contact: /contact/

    Style all nav links with: transition-colors, hover:text-accent-500, active page indication if straightforward (using Astro.url.pathname comparison).

    IMPORTANT: Use `lg:` (1024px) as the mobile-to-desktop breakpoint, NOT `md:` (768px). The grouped dropdown needs the horizontal space.

    IMPORTANT: On mobile, put the ThemeToggle INSIDE the slide-in panel to avoid crowding the header bar. On desktop, keep it in the header.
  </action>
  <verify>
    1. `npm run dev` -- no errors
    2. Desktop (>1024px): Header is sticky, scrolling changes padding/background. "Services" dropdown opens showing 3-column grid with People/Places/Things groups. All 8 service links visible and correctly grouped.
    3. Mobile (<1024px): Hamburger icon visible. Clicking opens slide-in panel from right. All service categories listed with group headings. ThemeToggle accessible inside panel. Panel can be closed.
    4. All navigation links point to correct paths
    5. Theme toggle works in both desktop header and mobile panel
  </verify>
  <done>
    Sticky header renders on all viewports. Desktop shows horizontal nav with grouped Services dropdown. Mobile shows hamburger that opens slide-in panel with all navigation links grouped by People/Places/Things. Theme toggle is accessible in both modes. No layout overflow at any viewport width.
  </done>
</task>

<task type="auto">
  <name>Task 2: Footer + PageLayout + placeholder pages</name>
  <files>
    src/components/global/Footer.astro
    src/layouts/PageLayout.astro
    src/pages/index.astro
    src/pages/contact.astro
    src/pages/404.astro
    src/pages/services/outdoor-portraits.astro
    src/pages/services/weddings.astro
    src/pages/services/commercial.astro
    src/pages/services/landscape.astro
    src/pages/services/cars.astro
    src/pages/services/assignments.astro
    src/pages/services/events.astro
    src/pages/services/live-performances.astro
  </files>
  <action>
    Create src/components/global/Footer.astro:
    - Semantic `<footer>` element with top border (border-surface-200 dark:border-surface-800)
    - Max-w-7xl mx-auto px-4 container
    - Content (per CONTEXT.md decisions):
      1. Copyright: "(c) {current year} Simon Wickes Photography. All rights reserved."
      2. Instagram link: `<a href="https://instagram.com/simonwickes" target="_blank" rel="noopener noreferrer">` with Instagram SVG icon and aria-label="Follow on Instagram"
      3. Contact page link: `<a href="/contact/">Contact</a>`
    - NO exposed email or phone (per user decision -- just link to contact page)
    - Layout: flex with column on mobile, row on sm+. Copyright left, links right.
    - Style links with text-surface-500 hover:text-accent-500 transition-colors
    - Use a real Instagram SVG icon (the camera/square icon), not a placeholder

    Create src/layouts/PageLayout.astro:
    - Import BaseLayout from "./BaseLayout.astro"
    - Import Header from "../components/global/Header.astro"
    - Import Footer from "../components/global/Footer.astro"
    - Accept same props as BaseLayout (title, description) and pass them through
    - Structure: BaseLayout wrapping Header, then `<main>` with slot, then Footer
    - Main element: flex-grow to push footer to bottom (use flex flex-col min-h-screen on body or a wrapper)

    Update src/pages/index.astro:
    - Use PageLayout (not BaseLayout directly)
    - Title: "Home"
    - Placeholder content: A centered section with "Simon Wickes Photography" heading (font-display, text-4xl+), a subtitle about professional photography, and a brief "Coming soon" message styled with accent colors
    - This is placeholder -- Phase 2 will build the real landing page

    Create src/pages/contact.astro:
    - Use PageLayout, title "Contact"
    - Placeholder: heading + "Contact form coming in Phase 4" message

    Create src/pages/404.astro:
    - Use PageLayout, title "Page Not Found"
    - Friendly 404 message with link back to home

    Create all 8 service page files in src/pages/services/:
    - outdoor-portraits.astro -- title "Outdoor Portraits"
    - weddings.astro -- title "Weddings"
    - commercial.astro -- title "Commercial"
    - landscape.astro -- title "Landscape"
    - cars.astro -- title "Cars"
    - assignments.astro -- title "Assignments"
    - events.astro -- title "Events"
    - live-performances.astro -- title "Live Performances"

    Each service page:
    - Uses PageLayout with appropriate title
    - Has an h1 with the service name
    - Has placeholder text: "Gallery coming in Phase 3"
    - Minimal but properly styled with design system colors/fonts

    IMPORTANT: All pages must use PageLayout (which includes Header + Footer), not BaseLayout directly. This ensures consistent navigation and footer on every page.

    IMPORTANT: Ensure the footer stays at the bottom of the viewport even on pages with little content. Use a flex column layout with min-h-screen and flex-grow on main.
  </action>
  <verify>
    1. `npm run dev` -- all pages load without errors
    2. Navigate to every page via the navigation menu -- all links work:
       - / (home)
       - /services/outdoor-portraits/
       - /services/weddings/
       - /services/commercial/
       - /services/landscape/
       - /services/cars/
       - /services/assignments/
       - /services/events/
       - /services/live-performances/
       - /contact/
    3. Every page shows Header at top and Footer at bottom
    4. Footer shows copyright, Instagram link, Contact link
    5. Footer stays at bottom even on short-content pages
    6. 404 page works for non-existent routes
    7. `npm run build` succeeds -- all pages generate static HTML
    8. Dark mode toggle works on all pages (theme persists when navigating)
  </verify>
  <done>
    All 12 pages exist (index, contact, 404, 8 services) and use PageLayout. Header with navigation and Footer with social links appear on every page. All navigation links resolve correctly. Footer sticks to bottom. Build produces static HTML for all pages. Dark mode works consistently across all pages.
  </done>
</task>

</tasks>

<verification>
1. Sticky header visible on all pages with correct scroll behavior
2. Desktop: Services dropdown shows People/Places/Things grouping with all 8 categories
3. Mobile (375px): Hamburger opens slide-in panel, all 8 services navigable
4. Footer with Instagram + Contact + Copyright on every page
5. All 12 routes resolve (index, contact, 404, 8 services)
6. Navigation between pages works -- clicking any service link loads that page
7. Dark mode persists across page navigation
8. Footer at viewport bottom on short pages
9. `npm run build` generates all 12 static HTML pages
</verification>

<success_criteria>
- Sticky header with StickyHeader scroll behavior on every page
- Grouped Services dropdown (People: 4 services, Places: 1, Things: 3) working on desktop
- Mobile slide-in panel with hamburger toggle, all services grouped
- Footer with Instagram icon link, Contact text link, copyright year
- PageLayout wraps all pages with Header + main + Footer
- All 8 service pages + index + contact + 404 exist and are navigable
- Fully responsive from 375px to desktop without overflow or layout breakage
- Theme toggle accessible on both desktop and mobile
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-02-SUMMARY.md`
</output>
