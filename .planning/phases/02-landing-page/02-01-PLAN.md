---
phase: 02-landing-page
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/assets/images/hero/slide-1.jpg
  - src/assets/images/hero/slide-2.jpg
  - src/assets/images/hero/slide-3.jpg
  - src/assets/images/hero/slide-4.jpg
  - src/components/ui/Button.astro
  - src/components/home/SkeletonCard.astro
  - src/components/home/HeroCarousel.astro
autonomous: true

must_haves:
  truths:
    - "User sees a full-viewport hero section with rotating photography on the homepage"
    - "Hero auto-advances every 4-5 seconds with visible arrow and dot controls"
    - "Hero displays 'Simon Wickes Photography' overlay at bottom-left"
    - "Carousel respects prefers-reduced-motion and has pause/play button"
    - "Dark solid-color placeholder shows while hero images load"
  artifacts:
    - path: "src/components/home/HeroCarousel.astro"
      provides: "Full-viewport auto-rotating hero carousel"
      contains: "Swiper"
    - path: "src/components/home/SkeletonCard.astro"
      provides: "CSS-only skeleton loading placeholder"
      contains: "skeleton"
    - path: "src/components/ui/Button.astro"
      provides: "Reusable CTA button component"
      contains: "Props"
    - path: "src/assets/images/hero/slide-1.jpg"
      provides: "First hero carousel image"
  key_links:
    - from: "src/components/home/HeroCarousel.astro"
      to: "astro-swiper"
      via: "import { Swiper } from astro-swiper"
      pattern: "import.*astro-swiper"
    - from: "src/components/home/HeroCarousel.astro"
      to: "src/assets/images/hero/"
      via: "image imports"
      pattern: "import.*hero/slide"
---

<objective>
Install carousel and masonry dependencies, add placeholder hero images, and build the full-viewport hero carousel component with accessibility features plus reusable UI components (Button, SkeletonCard).

Purpose: Establish the visual centerpiece of the landing page -- the hero carousel -- along with supporting UI primitives needed by subsequent plans.
Output: Working HeroCarousel.astro, SkeletonCard.astro, Button.astro, 4 hero placeholder images, npm packages installed.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-landing-page/02-CONTEXT.md
@.planning/phases/02-landing-page/02-RESEARCH.md
@src/styles/global.css
@src/layouts/BaseLayout.astro
@src/layouts/PageLayout.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies, add hero images, create UI primitives</name>
  <files>
    package.json
    src/assets/images/hero/slide-1.jpg
    src/assets/images/hero/slide-2.jpg
    src/assets/images/hero/slide-3.jpg
    src/assets/images/hero/slide-4.jpg
    src/components/ui/Button.astro
    src/components/home/SkeletonCard.astro
  </files>
  <action>
    1. Install dependencies:
       ```bash
       npm install astro-swiper swiper astro-masonry
       ```

    2. Create 4 placeholder hero images in `src/assets/images/hero/`. These are temporary development images -- use any freely available landscape-oriented photographs (download from Unsplash CLI, or generate solid-color placeholder JPEGs with Sharp/ImageMagick). Each should be at least 1920x1080. Name them slide-1.jpg through slide-4.jpg.

       If tools for downloading images are unavailable, generate placeholder JPEGs using a script:
       ```bash
       node -e "
       const sharp = require('sharp');
       const colors = ['#3a322e', '#5c504a', '#262120', '#6e3121'];
       colors.forEach((c, i) => {
         sharp({ create: { width: 1920, height: 1080, channels: 3, background: c } })
           .jpeg({ quality: 80 })
           .toFile('src/assets/images/hero/slide-' + (i+1) + '.jpg');
       });
       "
       ```
       Note: sharp is already an Astro dependency (transitive). If this approach fails, create minimal placeholder JPEGs any other way.

    3. Create `src/components/ui/Button.astro` -- a reusable CTA button:
       - Props: `href` (string), `variant` ("primary" | "secondary", default "primary"), `class` (optional string for additional classes)
       - Primary variant: solid accent background (`bg-accent-500 hover:bg-accent-600 text-surface-50`), rounded-full, px-8 py-3, font-semibold, transition
       - Secondary variant: outlined (`border-2 border-accent-500 text-accent-500 hover:bg-accent-500 hover:text-surface-50 dark:text-accent-400 dark:border-accent-400 dark:hover:bg-accent-400 dark:hover:text-surface-900`), rounded-full, px-8 py-3
       - Renders as `<a>` tag with the href
       - Uses `font-display` for display font family
       - Accepts `<slot />` for button text content

    4. Create `src/components/home/SkeletonCard.astro` -- CSS-only skeleton loading card:
       - Props: `aspectRatio` (string, default "3/4")
       - Rounded-lg, overflow-hidden
       - Uses shimmer animation (CSS keyframes gradient moving left-to-right)
       - Theme-aware: `bg-surface-200` light / `bg-surface-800` dark via Tailwind dark: variant
       - Shimmer via gradient: from-surface-200 via-surface-300 to-surface-200 (light), from-surface-800 via-surface-700 to-surface-800 (dark)
       - MUST respect `prefers-reduced-motion: reduce` -- disable animation, show static color
       - All CSS in `<style>` block, no client JS needed
  </action>
  <verify>
    - `npm ls astro-swiper swiper astro-masonry` shows all three installed
    - `ls src/assets/images/hero/` shows slide-1.jpg through slide-4.jpg
    - `ls src/components/ui/Button.astro src/components/home/SkeletonCard.astro` confirms both files exist
    - `npm run build` succeeds (no import errors)
  </verify>
  <done>
    Three npm packages installed. Four hero placeholder images exist in src/assets/images/hero/. Button.astro has primary/secondary variants with accent theming. SkeletonCard.astro shows shimmer animation with reduced-motion support.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build HeroCarousel component</name>
  <files>
    src/components/home/HeroCarousel.astro
  </files>
  <action>
    Create `src/components/home/HeroCarousel.astro` using astro-swiper:

    1. **Imports:** Import `Swiper`, `SwiperWrapper`, `SwiperSlide` from `astro-swiper`. Import `Image` from `astro:assets`. Import all 4 hero slide images from `@/assets/images/hero/`.

    2. **Slides data array:** Define an array of objects with `src` (imported image), `alt` (descriptive alt text for each image). Write meaningful alt text even for placeholders (e.g., "Portrait session in golden hour light").

    3. **Swiper configuration:**
       - `autoplay: { delay: 4500, disableOnInteraction: false, pauseOnMouseEnter: true }`
       - `loop: true`
       - `effect: 'slide'`
       - `speed: 800` (transition duration in ms)
       - `navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' }`
       - `pagination: { el: '.swiper-pagination', clickable: true }`
       - Use `client:load` (hero is above-the-fold, needs immediate hydration)

    4. **Container:** Full-viewport height using `h-[100dvh]` with fallback. Apply `class="relative w-full h-[100vh] h-[100dvh]"`. Add `bg-surface-900` for dark placeholder while images load.

    5. **Slides rendering:** Map over slides array. Each SwiperSlide contains a div with `relative h-full w-full bg-surface-900`. Inside, render Astro `<Image>` component:
       - `class="h-full w-full object-cover"`
       - First slide: `loading="eager"`, all others: `loading="lazy"`
       - `widths={[640, 1024, 1920]}` for responsive
       - `sizes="100vw"` (hero always full width)

    6. **Navigation elements:** After SwiperWrapper, add:
       - `<div class="swiper-button-prev"></div>`
       - `<div class="swiper-button-next"></div>`
       - `<div class="swiper-pagination"></div>`

    7. **Overlay content:** Absolute positioned div at bottom-left (`absolute bottom-8 left-8 z-10 md:bottom-12 md:left-12`):
       - `<h1>` with "Simon Wickes Photography" -- `font-display text-3xl md:text-5xl font-bold text-surface-50 drop-shadow-lg`
       - `<p>` with tagline (e.g., "Capturing authentic moments") -- `text-lg md:text-xl text-surface-100 drop-shadow-md mt-2`

    8. **Pause/Play button:** Absolute positioned at bottom-right (`absolute bottom-8 right-8 z-20 md:bottom-12 md:right-12`):
       - Rounded-full, semi-transparent background (`bg-surface-900/50 hover:bg-surface-900/70`)
       - Contains SVG pause icon and hidden play icon
       - `aria-label="Pause carousel"`

    9. **Client-side script:** A `<script>` block (not is:inline) that:
       - Detects `prefers-reduced-motion: reduce`
       - If reduced motion: stops autoplay on carousel via `swiper.autoplay.stop()`
       - Toggle button: switches between play/pause, updates aria-label, toggles icon visibility
       - Listens for reduced motion changes (media query change event)

    10. **Styles:** Add `<style>` block to customize Swiper navigation/pagination colors:
        - Navigation arrows: `color: white` with drop-shadow
        - Pagination bullets: `--swiper-pagination-color: white`
        - Pagination position: slightly above bottom overlay
        - Reduced-motion media query: set `--swiper-autoplay-delay: 0` or CSS transitions to none

    IMPORTANT: Check astro-swiper's actual API. If it differs from Swiper.js native (different component names, different prop structure), adapt accordingly. Read the package's README or source if needed.
  </action>
  <verify>
    - `npm run build` succeeds
    - HeroCarousel.astro file exists and imports astro-swiper
    - File contains `prefers-reduced-motion` handling
    - File contains pause/play button with aria-label
    - File contains overlay with "Simon Wickes Photography"
    - File references all 4 hero images
  </verify>
  <done>
    HeroCarousel.astro renders a full-viewport auto-rotating slideshow with 4 images, 4.5s auto-advance, slide transitions, visible navigation arrows and pagination dots, bottom-left name/tagline overlay, bottom-right pause/play button, solid dark placeholder, and reduced-motion accessibility support.
  </done>
</task>

</tasks>

<verification>
- `npm run build` succeeds with zero errors
- All new component files exist in their correct directories
- HeroCarousel uses astro-swiper with client:load directive
- SkeletonCard uses CSS-only animations (no client directive)
- Button supports primary and secondary variants
- Hero images are importable from src/assets/images/hero/
</verification>

<success_criteria>
- Hero carousel component exists with auto-rotation, navigation controls, overlay, and accessibility
- SkeletonCard and Button reusable components are ready for use
- All dependencies installed and build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/02-landing-page/02-01-SUMMARY.md`
</output>
