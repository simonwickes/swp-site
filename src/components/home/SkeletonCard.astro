---
interface Props {
  aspectRatio?: string;
}

const { aspectRatio = "3/4" } = Astro.props;
---

<div
  class="skeleton-card rounded-lg overflow-hidden bg-surface-200 dark:bg-surface-800"
  style={`aspect-ratio: ${aspectRatio};`}
>
  <div class="skeleton-shimmer h-full w-full"></div>
</div>

<style>
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      var(--color-surface-200) 25%,
      var(--color-surface-300) 50%,
      var(--color-surface-200) 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  :global(.dark) .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      var(--color-surface-800) 25%,
      var(--color-surface-700) 50%,
      var(--color-surface-800) 75%
    );
    background-size: 200% 100%;
  }

  @media (prefers-reduced-motion: reduce) {
    .skeleton-shimmer {
      animation: none;
      background: var(--color-surface-200);
    }

    :global(.dark) .skeleton-shimmer {
      background: var(--color-surface-800);
    }
  }
</style>
